{"id":"node_modules/@gnosis.pm/safe-apps-sdk/dist/src/txs/index.js","dependencies":[{"name":"/home/ryann/Documents/Repos/ChainSafe/Gaming/game-web3mobile/node_modules/@gnosis.pm/safe-apps-sdk/dist/src/txs/index.js.map","includedInParent":true,"mtime":1632832198983},{"name":"/home/ryann/Documents/Repos/ChainSafe/Gaming/game-web3mobile/package.json","includedInParent":true,"mtime":1637150058124},{"name":"/home/ryann/Documents/Repos/ChainSafe/Gaming/game-web3mobile/node_modules/@gnosis.pm/safe-apps-sdk/dist/package.json","includedInParent":true,"mtime":1632832198983},{"name":"../communication/methods","loc":{"line":4,"column":26},"parent":"/home/ryann/Documents/Repos/ChainSafe/Gaming/game-web3mobile/node_modules/@gnosis.pm/safe-apps-sdk/dist/src/txs/index.js","resolved":"/home/ryann/Documents/Repos/ChainSafe/Gaming/game-web3mobile/node_modules/@gnosis.pm/safe-apps-sdk/dist/src/communication/methods.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TXs = void 0;\nconst methods_1 = require(\"../communication/methods\");\nclass TXs {\n    constructor(communicator) {\n        this.txServiceUrl = null;\n        this.communicator = communicator;\n    }\n    async getBySafeTxHash(safeTxHash) {\n        if (!this.txServiceUrl) {\n            throw new Error(\"ENV information hasn't been synced yet or there was an error during the process\");\n        }\n        const controller = new AbortController();\n        const options = {\n            method: 'GET',\n            signal: controller.signal,\n        };\n        setTimeout(() => controller.abort(), 10000);\n        try {\n            const res = await fetch(`${this.txServiceUrl}/transactions/${safeTxHash}`, options);\n            if (res.status !== 200) {\n                throw new Error(\"Failed to get the transaction. Either safeTxHash is incorrect or transaction hasn't been indexed by the service yet\");\n            }\n            const json = await res.json();\n            return json;\n        }\n        catch (err) {\n            throw err;\n        }\n    }\n    async send({ txs, params }) {\n        if (!txs || !txs.length) {\n            throw new Error('No transactions were passed');\n        }\n        const messagePayload = {\n            txs,\n            params,\n        };\n        const response = await this.communicator.send(methods_1.METHODS.sendTransactions, messagePayload);\n        if (!response.success) {\n            throw new Error(response.error);\n        }\n        return response.data;\n    }\n    setTxServiceUrl(url) {\n        this.txServiceUrl = url;\n    }\n}\nexports.TXs = TXs;\n"},"sourceMaps":{"js":{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/txs/index.ts"],"names":[],"mappings":";;;AAAA,sDAAmD;AAGnD,MAAM,GAAG;IAIP,YAAY,YAA0B;QAH9B,iBAAY,GAAkB,IAAI,CAAC;QAIzC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,UAAkB;QACtC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACtB,MAAM,IAAI,KAAK,CAAC,iFAAiF,CAAC,CAAC;SACpG;QAED,MAAM,UAAU,GAAG,IAAI,eAAe,EAAE,CAAC;QACzC,MAAM,OAAO,GAAG;YACd,MAAM,EAAE,KAAK;YACb,MAAM,EAAE,UAAU,CAAC,MAAM;SAC1B,CAAC;QACF,UAAU,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,KAAK,EAAE,EAAE,KAAK,CAAC,CAAC;QAE5C,IAAI;YACF,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,GAAG,IAAI,CAAC,YAAY,iBAAiB,UAAU,EAAE,EAAE,OAAO,CAAC,CAAC;YACpF,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,MAAM,IAAI,KAAK,CACb,qHAAqH,CACtH,CAAC;aACH;YAED,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,IAAI,EAAE,CAAC;YAE9B,OAAO,IAAsB,CAAC;SAC/B;QAAC,OAAO,GAAG,EAAE;YACZ,MAAM,GAAG,CAAC;SACX;IACH,CAAC;IAED,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,MAAM,EAAwB;QAC9C,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;YACvB,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;SAChD;QAED,MAAM,cAAc,GAAG;YACrB,GAAG;YACH,MAAM;SACP,CAAC;QAEF,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAC3C,iBAAO,CAAC,gBAAgB,EACxB,cAAc,CACf,CAAC;QAEF,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;YACrB,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACjC;QAED,OAAO,QAAQ,CAAC,IAAI,CAAC;IACvB,CAAC;IAEM,eAAe,CAAC,GAAW;QAChC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;IAC1B,CAAC;CACF;AAEQ,kBAAG","sourcesContent":[null]}},"error":null,"hash":"d1a3cac112793b1227b685243252af1a","cacheData":{"env":{}}}