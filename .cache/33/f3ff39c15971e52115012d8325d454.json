{"id":"node_modules/@shapeshiftoss/hdwallet-core/dist/keyring.js","dependencies":[{"name":"/home/ryann/Documents/Repos/ChainSafe/Gaming/game-web3mobile/node_modules/@shapeshiftoss/hdwallet-core/dist/keyring.js.map","includedInParent":true,"mtime":1637149977861},{"name":"/home/ryann/Documents/Repos/ChainSafe/Gaming/game-web3mobile/package.json","includedInParent":true,"mtime":1637150058124},{"name":"/home/ryann/Documents/Repos/ChainSafe/Gaming/game-web3mobile/node_modules/@shapeshiftoss/hdwallet-core/package.json","includedInParent":true,"mtime":1637149977861},{"name":"eventemitter2","loc":{"line":32,"column":43},"parent":"/home/ryann/Documents/Repos/ChainSafe/Gaming/game-web3mobile/node_modules/@shapeshiftoss/hdwallet-core/dist/keyring.js","resolved":"/home/ryann/Documents/Repos/ChainSafe/Gaming/game-web3mobile/node_modules/eventemitter2/lib/eventemitter2.js"}],"generated":{"js":"\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Keyring = void 0;\nconst eventemitter2 = __importStar(require(\"eventemitter2\"));\nclass Keyring extends eventemitter2.EventEmitter2 {\n    constructor() {\n        super({ wildcard: true });\n        this.wallets = {};\n        this.aliases = {};\n    }\n    add(wallet, deviceID) {\n        const id = deviceID || new Date().toString();\n        if (!this.wallets[id]) {\n            this.wallets[id] = wallet;\n            wallet.transport && this.decorateEvents(id, wallet.transport);\n            return true;\n        }\n        return false;\n    }\n    addAlias(aliasee, alias) {\n        this.aliases[alias] = aliasee;\n    }\n    getAlias(aliasee) {\n        const keys = Object.keys(this.aliases);\n        const values = Object.values(this.aliases);\n        const index = values.indexOf(aliasee);\n        if (index !== -1)\n            return keys[index];\n        return aliasee;\n    }\n    exec(method, ...args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return Promise.all(Object.values(this.wallets).map((w) => {\n                const fn = w[method];\n                if (typeof fn !== \"function\")\n                    throw new Error(`can't exec non-existent method ${method}`);\n                return fn.call(w, ...args);\n            })).then((values) => values.reduce((final, response, i) => {\n                final[Object.keys(this.wallets)[i]] = response;\n                return final;\n            }, {}));\n        });\n    }\n    get(deviceID) {\n        if (deviceID && this.aliases[deviceID] && this.wallets[this.aliases[deviceID]])\n            return this.wallets[this.aliases[deviceID]];\n        if (deviceID && this.wallets[deviceID])\n            return this.wallets[deviceID];\n        if (!!Object.keys(this.wallets).length && !deviceID)\n            return Object.values(this.wallets)[0];\n        return null;\n    }\n    remove(deviceID) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const wallet = this.get(deviceID);\n            if (!wallet)\n                return;\n            try {\n                yield wallet.disconnect();\n            }\n            catch (e) {\n                console.error(e);\n            }\n            finally {\n                let aliasee = this.aliases[deviceID];\n                if (aliasee) {\n                    delete this.aliases[deviceID];\n                    delete this.wallets[aliasee];\n                }\n                else {\n                    delete this.wallets[deviceID];\n                }\n            }\n        });\n    }\n    removeAll() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield Promise.all(Object.keys(this.wallets).map(this.remove.bind(this)));\n            this.aliases = {};\n        });\n    }\n    disconnectAll() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const wallets = Object.values(this.wallets);\n            for (let i = 0; i < wallets.length; i++) {\n                yield wallets[i].disconnect();\n            }\n        });\n    }\n    decorateEvents(deviceID, events) {\n        const wallet = this.get(deviceID);\n        if (!wallet)\n            return;\n        const vendor = wallet.getVendor();\n        events.onAny((e, ...values) => this.emit([vendor, deviceID, (typeof e === \"string\" ? e : e.join(\";\"))], [deviceID, ...values]));\n    }\n}\nexports.Keyring = Keyring;\n"},"sourceMaps":{"js":{"version":3,"file":"keyring.js","sourceRoot":"","sources":["../src/keyring.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"69b0d9d8fc192053d322203f8f176e94","cacheData":{"env":{}}}